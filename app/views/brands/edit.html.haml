%h4= brand.screen_name
%hr

.row
  .col
    %h3 New accounts
    %p.lead Click to add.
    .list-group.list-group-horizontal.flex-wrap
      - BrandAccount.providers.keys.each do |provider|
        - unless brand.account_for_provider?(provider)
          = auth_provider_link("Authorize #{provider_human_name(provider)}",
            provider, 'brand', class: 'list-group-item list-group-item-action col-sm-6 text-center')

  .col
    %h3 Existing accounts
    %p.lead Click to remove.
    .list-group.list-group-horizontal.flex-wrap
      - brand.brand_accounts.each do |account|
        = link_to "Remove #{provider_human_name(account.provider)}",
          brand_brand_account_path(brand, account), method: :delete,
          class: 'list-group-item list-group-item-action col-sm-6 text-center'

%hr

.row
  .col
    %h3 Users outside Brand
    %p.lead Select user and click button to add.
    = form_with url: brand_users_path(brand), method: :post do |remove_user_form|
      = remove_user_form.select :user_id, options_for_select(add_users_dropdown_options_for(brand)),
        { include_blank: 'Select user' }, required: true, class: 'custom-select form-control col-sm-6', id: 'add-user'
      = remove_user_form.submit 'Add User', class: 'btn btn-primary ml-3'

  .col
    %h3 Users in Brand
    %p.lead Click to remove.
    .list-group.list-group-horizontal.flex-wrap
      - @brand_users.each do |user|
        = link_to "Remove #{user.name}", brand_user_path(brand, user), method: :delete,
          class: 'list-group-item list-group-item-action col-sm-6 text-center'
    .row.mt-3
      .ml-auto.mr-auto
        != pagy_bootstrap_nav(@pagy)
